{% extends "base_generic.html" %}
{% block title %}Games{% endblock %}
{% block content %}
<div class="games-container">
    <div class="sidebar">
        <h3>Categories</h3>
        <ul>
            {% for category in categories %}
                <li>
                    <a href="?category={{ category.id }}" class="{% if category.id|stringformat:"s" == selected_category %}active{% endif %}">
                        {{ category.name }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div class="games-list">
        {% for game in games %}
            <div class="game-item" onclick="location.href='{% url 'game_detail' game.id %}'">
                {% if game.logo %}
                    <img src="{{ game.logo.url }}" alt="{{ game.title }}" class="game-logo">
                {% endif %}
                <div class="game-info">
                    <h4>{{ game.title }}</h4>
                    <p>Rating: {{ game.rating }}</p>
                    <div class="game-categories">
                        {% for category in game.categories.all %}
                            <span class="game-category">{{ category.name }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No games available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}